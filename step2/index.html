<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title> My Experiment </title>
  <script src = "https://tyoon.net/webexp/jspsych/jspsych.js"></script>
  <script src = "https://tyoon.net/webexp/jspsych/plugins/jspsych-html-button-response.js"></script>
  <script src = "https://tyoon.net/webexp/jspsych/plugins/jspsych-instructions.js"></script>
  <link href = "https://tyoon.net/webexp/jspsych/css/jspsych.css" rel="stylesheet" type="text/css">
</head>

<body></body>
<script>

	/**	This function plays the sound in the sound check **/
	function playSound(){
		var x = document.getElementById("testAudio");
		x.play();
	}

	// Welcome
	var welcome_block = {
		data: {
			screen_id: "welcome"
		},
		type: "html-button-response",
		stimulus: "Welcome to the experiment",
		choices: ["Click here to continue"],
	};

	// Instructions
	var instruction_block = {
		data: {
			screen_id: "instructions"
		},
		preamble: "Instructions",
		type: "instructions",
		pages: [
			"<p>page 1.</p>",
			"<p>page 2.</p>",
			"<p>page 3.</p>"
			],
		show_clickable_nav: true,
	};

  // from Lisa Sullivan's code
  var sound_test = {
    type: 'instructions',
    pages: [ '<audio id="testAudio"><source src="../sounds/tone.mp3" type="audio/mpeg"></audio>' +
            '<h1>Sound Test</h1>' +
            '<p>Please test your sound by clicking the button below. You may click it multiple times to adjust your volume so you can hear it clearly.</p>' +
            '<button onclick="playSound()" type="button" class="snd-btn"><img src="../img/sound.jpg" alt="Click to test sound" /></button>' ],
    show_clickable_nav: true,
    button_label: "Next",
  };

  
	timeline = [];

	timeline.push(welcome_block);
	timeline.push(sound_test);
	timeline.push(instruction_block);


	// start experiment
	jsPsych.init({
		timeline: timeline,
		on_finish: function(){
			jsPsych.data.displayData()
		}
	})

</script>
</html>
