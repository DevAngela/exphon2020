<!DOCTYPE html>
<html>

<head>
  <title>아동 발화 지각 실험</title>
  <meta charset="UTF-8">
  <script src="https://tyoon.net/webexp/jspsych/jspsych.js"></script>
  <script src="https://tyoon.net/webexp/jspsych/plugins/jspsych-fullscreen.js"></script>
  <script src="https://tyoon.net/webexp/jspsych/plugins/jspsych-survey-text.js"></script>
  <script src="https://tyoon.net/webexp/jspsych/plugins/jspsych-survey-multi-select.js"></script>
  <script src="https://tyoon.net/webexp/jspsych/plugins/jspsych-html-keyboard-response.js"></script>
  <script src="https://tyoon.net/webexp/jspsych/plugins/jspsych-image-keyboard-response.js"></script>
  <script src="https://tyoon.net/webexp/jspsych/plugins/jspsych-audio-button-response.js"></script>
  <script src="https://tyoon.net/webexp/jspsych/plugins/jspsych-html-button-response.js"></script>
  <link rel="stylesheet" href="https://tyoon.net/webexp/jspsych/css/jspsych.css"></link>

</head>

<body></body>
<script>




  var timeline = [];

  /* PARTICIPANT ID */

  var sid = jsPsych.randomization.randomID(10);

  // Participants type in their ID number, which is added to each trial.
  var participantID = {

      // The survey-text plugin displays one or more questions with a free response text field and a 'Continue' button.
      // See https://www.jspsych.org/plugins/jspsych-survey-text/ for additional parameter options.
      type: 'survey-text',
      questions: [{

          // This is the text that appears above the textbox.
          prompt: '학번을 적어 주세요.',
          // This determines the size of the textbox.
          rows: 1, columns: 30

      },
      {

          // This is the text that appears above the textbox.
          prompt: '이름을 적어 주세요.',
          // This determines the size of the textbox.
          rows: 1, columns: 30

      }
    ],
    on_finish: function (data) {
        var subject_id = JSON.parse(data.responses).Q0.trim();
        jsPsych.data.addProperties({ subject_id: subject_id });
      }
  };

  // The participant ID section is added to the timeline.
  timeline.push(participantID);

  var survey_page1 = {
      type: 'survey-multi-select',
      preamble: "<h3>다음 질문에 하나만 체크하기 바랍니다. 해당되지 않은 곳에 check되었으면 uncheck하기 바랍니다.</h3>",
      questions: [
        { prompt: '<h2>해당하는 성별에 체크하기 바랍니다.</h2>',
          options: ["여성", "남성"],
          horizontal: true,
          required: true,
          name: 'Gender'},
        { prompt: '<h2>해당하는 연령에 체크하기 바랍니다.</h2>',
          options: ["10대", "20대", "30대", "40대", "50대 이상"],
          horizontal: true,
          required: true,
          name: 'Age'}
      ],
      randomize_question_order: false,
			on_finish: function(data) {
				console.log('data.responses:', data.responses);
				var gender = JSON.parse(data.responses)['Gender'];
				jsPsych.data.addProperties({ gender: gender[0]});
				var age = JSON.parse(data.responses)['Age'];
				jsPsych.data.addProperties({ age: age[0]});

				//console.log('gender', gender, 'age', age);

			}
    };

  timeline.push(survey_page1);



  /* FULLSCREEN MODE */
  // Set experiment to fullscreen for the entire timeline by pressing an on-screen button.
  timeline.push({
      type: 'fullscreen',
      fullscreen_mode: true,
      message: '<p style="color: blue; font-size: 48px;">Fullscreen 모드로 전환합니다.</p><br /> ',
      button_label: '활성화하기'
  });


  var fullscreen_trial_exit = {
      type: 'fullscreen',
      fullscreen_mode: false
  }

  timeline.push(fullscreen_trial_exit);

  jsPsych.init({
    timeline: timeline,
    on_finish: function() {
			jsPsych.data.displayData('json')
    }
  });

</script>

</html>
