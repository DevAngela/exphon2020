<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>AX Discrimination Test</title>
  <script src="../jspsych-6.2.0/jspsych.js"></script>
  <script src="../jspsych-6.2.0/plugins/jspsych-html-keyboard-response.js"></script>
  <script src="../jspsych-6.2.0/plugins/jspsych-audio-keyboard-response.js"></script>
  <script src="../jspsych-6.2.0/plugins/jspsych-animation.js"></script>

  <script src="../jspsych-6.2.0/plugins/jspsych-instructions.js"></script>
  <link rel="stylesheet" href="../jspsych-6.2.0/css/jspsych.css" type="text/css">
</head>

<body></body>

<script>

  var timeline = [];

  var welcome_block = {
    type: 'html-keyboard-response',
    stimulus: '<h1>본 실험에 참가해 주셔서 감사합니다.</h1><h2>다음으로 넘어가려면 아무 키나 눌러 주기 바랍니다</h2>',
    data: { 'screen_id': 'welcome_block'}
  };
  //timeline.push(welcome_block)

  var instruction_block = {
    type: 'instructions',
    pages: [
        '<p>본 실험에서는 두 소리를 연이어서 듣게 될 것입니다.</p>'+
        '<p>두번째 들리는 소리가 첫번째 들리는 소리와 같으면, <strong>s</strong>를 눌러 주기 바랍니다.</p>' +
        '<p>두번째 들리는 소리가 첫번쨰 들리는 소리와 다르면, <strong>d</strong>를 눌러 주기 바랍니다.</p>',
        '준비가 되었으면 다음 키를 눌러주세요'
    ],
    show_clickable_nav: true,
    button_label_previous: '이전',
    button_label_next: '이후',
    page_label: '페이지',
    data: {'screen_id': 'instruction_block'}
  }

  timeline.push(instruction_block)

  var aba_trial = {
    type: 'audio-keyboard-response',
    stimulus: 'sounds/aba1.wav',
    prompt: '<div style="font-size:60px;">+</div>',
    choices: jsPsych.NO_KEYS,
    trial_duration: 2000,
  };

  var ava_trial = {
    type: 'audio-keyboard-response',
    stimulus: 'sounds/ava1.wav',
    prompt: '<div style="font-size:60px;">s나 d를 눌러주세요</div>',
    choices: ['s', 'd'],
    post_trial_gap: 1000,
    data: {answer: 'diff'}
  };


  timeline.push(aba_trial, ava_trial);

  var ava_trial2 = {
    type: 'audio-keyboard-response',
    stimulus: 'sounds/ava1.wav',
    prompt: '<div style="font-size:60px;">+</div>',
    choices: jsPsych.NO_KEYS,
    trial_duration: 2000,
  };

  var ava_trial3 = {
    type: 'audio-keyboard-response',
    stimulus: 'sounds/ava1.wav',
    prompt: '<div style="font-size:60px;">s나 d를 눌러주세요</div>',
    choices: ['s', 'd'],
    data: {answer: 'same'}

  };

  timeline.push(ava_trial2, ava_trial3);


  jsPsych.init({
    timeline: timeline,
    on_finish: function(){
      jsPsych.data.displayData();
    }
  })
</script>

</html>
