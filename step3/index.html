<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title> My Experiment </title>
	<script src = "https://tyoon.net/webexp/jspsych/jspsych.js"></script>
	<script src = "https://tyoon.net/webexp/jspsych/plugins/jspsych-html-button-response.js"></script>
	<script src = "https://tyoon.net/webexp/jspsych/plugins/jspsych-instructions.js"></script>
	<script src = "https://tyoon.net/webexp/jspsych/plugins/jspsych-image-keyboard-response.js"></script>
	<script src="https://tyoon.net/webexp/jspsych/plugins/jspsych-audio-keyboard-response.js"></script>
	<link href = "https://tyoon.net/webexp/jspsych/css/jspsych.css" rel="stylesheet" type="text/css">
</head>

<body></body>
<script>

	// Welcome
	var welcome_block = {
		data: {
			screen_id: "welcome"
		},
		type: "html-button-response",
		stimulus: "Welcome to the experiment",
		choices: ["Click here to continue"],
	};



	// Instructions
	var instruction_block = {
		data: {
			screen_id: "instructions"
		},
		type: "instructions",
		pages: [
			"<p>In this experiment, a circle will appear in the middle of the screen.</p>" +
			"<p>If the color of the circle is <b>blue</b>, press the <b>left</b> key.</p>" +
			"<p>If the color of the circle is <b>orange</b>, press the <b>right</b> key.</p>",
			"We will begin with some practice"
			],
		show_clickable_nav: true,
	};


	// Practice trials

	var blue_trial = {
		data: { answer: "blue" },
		type: "audio-keyboard-response",
		stimulus: "../sounds/tone.mp3",
		prompt: '<img src="../img/sound.jpg" height="200" width="200">',
		choices: jsPsych.NO_KEYS,
		post_trial_gap: 1000,
		trial_ends_after_audio: true
	};

	var orange_trial = {
		data: { answer: "orange" },
		type: "audio-keyboard-response",
		stimulus: "../sounds/tone.mp3",
		prompt: '<img src="../img/sound.jpg" height="200" width="200">',
		choices: jsPsych.NO_KEYS,
		post_trial_gap: 1000,
		trial_ends_after_audio: true
	};

	var test_trial = {
		data: { answer: "0"},
		type: "html-button-response",
		stimulus: '<h1>Are these words the same?</h1>',
		choices: ['<div id="large">Yes</div>', '<div id="large">No</div>'],
		post_trial_gap: 1000,
		on_finish: function(data){
			var correct = 0;
			if (data.answer == data.button_pressed){
				correct = 1;
			} else {
				correct = '0';
			};
			jsPsych.data.addDataToLastTrial({response: correct});
		}
	};


	// Experiment instructions
	// Experimental trials
	// Debrief

	// timeline
	timeline = [];

	//timeline.push(welcome_block);
	timeline.push(instruction_block);
	timeline.push(blue_trial);
	timeline.push(orange_trial);
	timeline.push(test_trial);



	// start experiment
	jsPsych.init({
		timeline: timeline,
		on_finish: function(){
			jsPsych.data.displayData('json')
		}
	})

</script>
</html>
